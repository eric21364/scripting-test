# é¾è¦å½±é™¢ (Lobster Cinema) é–‹ç™¼è¦ç¯„åŠé‚è¼¯æ‰‹å†Š v11.0 ðŸ¦ž

## 1. æ ¸å¿ƒé–‹ç™¼è¦å‰‡ (Core Dev Rules)
### 1.1 å½±åƒæå–å”è­° (Extraction Protocol)
- **Jable TV**: 
  - æå–é‚è¼¯ï¼šå„ªå…ˆå¾žé é¢æºç¢¼ä¸­æå– `hlsUrl` è®Šæ•¸ã€‚
  - è³‡æºæ˜ å°„ï¼šç¢ºä¿å‚³å…¥ `WebViewController` çš„æ˜¯å®Œæ•´çš„ `.m3u8` è·¯å¾‘ã€‚
- **XVideos**: 
  - ç‰©ç†æ¨™å®šï¼š**åš´ç¦ç›´æŽ¥è§£æžå½±ç‰‡ç¶²é **ï¼Œå¿…é ˆå°‡ Video ID æ˜ å°„è‡³ `https://www.xvideos.com/embedframe/{id}`ã€‚
  - å„ªå‹¢ï¼šæ­¤ç‚ºå®˜æ–¹ç´”æ·¨åµŒå…¥è·¯å¾‘ï¼Œä¸å«å»£å‘Šã€å½ˆçª—èˆ‡ JS æª¢æ¸¬ã€‚

### 1.2 UI ä½ˆå±€æ¨™æ ¡ (UI Layout Standard)
- **å°ç¨±å”è­°**ï¼šæœå°‹åˆ—èˆ‡é »é“åˆ‡æ›å™¨ (Channel Switcher) å¿…é ˆå¹³è¡Œæ”¾ç½®ï¼Œä¸”**ç‰©ç†é«˜åº¦éŽ–å®šç‚º 36pt**ã€‚
- **å…ƒä»¶é¸æ“‡**ï¼šä¸ä½¿ç”¨åŽŸç”Ÿ iOS `Menu` æˆ– `ActionSheet`ï¼ˆåœ¨ Modal å±¤ç´šæœ‰ Hit-test å¤±æ•ˆå•é¡Œï¼‰ï¼Œä¸€å¾‹ä½¿ç”¨ `HStack` çµ„åˆ `Button` æ‰‹å‹•å¯¦ä½œ Segmented Controlã€‚
- **é©é…æ€§**ï¼šä½¿ç”¨ `GeometryReader` è¨ˆç®—å¯¬åº¦ï¼Œç¢ºä¿åœ¨ iPad (4æ¬„) èˆ‡ iPhone (2æ¬„) ä¸‹çš†èƒ½ä¿æŒè¦–è¦ºå¼µåŠ›ã€‚

## 2. çˆ¬èŸ²åˆ†é é‚è¼¯ (Scraping Logic)
- **Jable**: ä½¿ç”¨ XMLHttpRequest ç•°æ­¥è«‹æ±‚ `list_videos_` å¡Šï¼Œæ¯é  24 æ¢ã€‚
- **XVideos**: 
  - ç¬¬ 1 é  (p=1)ï¼šå°æ‡‰æ ¹ç›®éŒ„ `/`ã€‚
  - ç¬¬ 2 é ä»¥å¾Œ (p>1)ï¼šå°æ‡‰ `/new/{p-1}` æˆ– `?k={query}&p={p-1}`ã€‚
  - **é‡è¦**ï¼šXVideos ä¸æŽ¥å— `p=0`ï¼Œæœƒå°Žè‡´ 404 å ±è­¦ã€‚

## 3. æŽ¡é›†èˆ‡åçˆ¬èŸ²ç­–ç•¥
- **å½è£æŒ‡ä»¤**ï¼šæ‰€æœ‰ XVideos è«‹æ±‚å¿…é ˆå¸¶ä¸Š `User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 17_4 like Mac OS X) ...`ã€‚
- **é«˜å®¹éŒ¯æ­£å‰‡ v2**ï¼šä½¿ç”¨ `[\s\S]*?` éžè²ªå©ªåŒ¹é…ï¼Œä»¥æ‡‰å° XVideos ç¶²é æ¨™ç±¤é †åºçš„å‹•æ…‹èª¿æ•´ã€‚

## 4. é¾è¦èƒ½é‡æ ¸å¿ƒ (Energy System)
- **æ¬Šé‡è¨ˆç®—**ï¼š`50 + (title.length % 50)`ï¼Œç”¨æ–¼å‹•æ…‹ç”Ÿæˆå½±ç‰‡å¾½ç« é¡è‰²èˆ‡èƒ½é‡å€¼ã€‚
- **å¾½ç« é…è‰²**ï¼š
  - >= 90: `systemPink` (é«˜èƒ½)
  - >= 70: `systemOrange` (ä¸­èƒ½)
  - < 70: `systemBlue` (ä½Žèƒ½)

---
*æœ¬æ‰‹å†Šç”±é¾è¦è»åœ˜ã€Œæ•´ç†å®˜ã€æ­¸æª”ï¼Œä½œç‚ºæœªä¾†æ‰€æœ‰å½±é™¢é–‹ç™¼ä»»å‹™çš„æœ€é«˜æŒ‡å°ŽåŽŸå‰‡ã€‚* ðŸ›¡ï¸
